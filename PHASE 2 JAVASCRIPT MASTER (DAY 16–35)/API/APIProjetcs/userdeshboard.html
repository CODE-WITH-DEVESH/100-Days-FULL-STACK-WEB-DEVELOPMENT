<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API </title>
</head>
<body>
    <h2>User Dashboard  </h2>
    <button id="loadBtn"> Load Users</button>
    <p id="statusText"> </p>
    <div id="userList"> </div>
</body>
<script>
    let loadBtn =document.getElementById('loadBtn')
    let statusText =document.getElementById('statusText')
    let userList=document.getElementById('userList')

    async function loadUser() {
        try{
            statusText.innerText="Loading"
            userList.innerHTML=""
            let res =await fetch('https://jsonplaceholder.typicode.com/users')
            let data =await res.json()

            statusText.innerText=""
            statusText.innerText="User loaded"
            userList.style.color="green"
            data.slice(0,5).forEach(user=>{
                let div =document.createElement('div')
                div.innerText=`${user.name} and ${user.email}`

                // div.innerText.style.color="green"
                userList.appendChild(div)


            })

        } catch (err){
            statusText.innerText="Failed to load Users"
            statusText.style.color="red"

        }
        
    }
    loadBtn.addEventListener('click',loadUser)
</script>
</html>